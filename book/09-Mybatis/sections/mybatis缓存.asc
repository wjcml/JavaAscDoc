=== Mybatis缓存

参考资料： https://tech.meituan.com/2018/01/19/mybatis-cache.html["聊聊MyBatis缓存机制", window="_blank"]


mybatis提供查询缓存，用于减轻数据压力，提高数据库性能。

==== 一级缓存

一级缓存的 *作用域是同一个SqlSession*，在同一个sqlSession中两次执行相同的sql语句，第一次执行完毕会将数据库中查询的数据写到缓存（内存），第二次会从缓存中获取数据将不再从数据库查询，从而提高查询效率。不过需要注意的是，如果在同一个SqlSession中，修改了数据，刚刚存入的缓存就会失效，会重新从数据库查询。当一个sqlSession结束后该sqlSession中的一级缓存也就不存在了。

*Mybatis默认开启一级缓存*。


==== 二级缓存

二级缓存是多个SqlSession共享的，其 *作用域是mapper的同一个namespace*，不同的sqlSession两次执行相同namespace下的sql语句且向sql中传递参数也相同即最终执行相同的sql语句，第一次执行完毕会将数据库中查询的数据写到缓存（内存），第二次会从缓存中获取数据将不再从数据库查询，从而提高查询效率。

Mybatis默认没有开启二级缓存需要在setting全局参数中配置开启二级缓存。




